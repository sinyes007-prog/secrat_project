<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #ffe6ea;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Sarabun', sans-serif;
            overflow: hidden;
            position: relative;
        }
        .message-box {
            background-color: rgba(255, 255, 255, 0.85);
            padding: 50px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.2);
            text-align: center;
            z-index: 10;
            max-width: 600px;
            margin: 20px;
            animation: fadeIn 2.5s ease-in-out;
        }
        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(30px) scale(0.9); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        h1 {
            color: #ff4d6d;
            font-size: 3em;
            margin-top: 0;
            margin-bottom: 15px;
        }
        p {
            color: #444;
            font-size: 1.2em;
            line-height: 1.8;
            margin: 0;
        }

        /* คลาสสำหรับรูปภาพของคุณ */
        .photo-heart-item {
            position: absolute;
            z-index: 1;
            pointer-events: none;
            object-fit: cover;
            -webkit-mask-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23000' d='M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z'/%3E%3C/svg%3E");
            -webkit-mask-size: contain;
            -webkit-mask-repeat: no-repeat;
            -webkit-mask-position: center;
            mask-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23000' d='M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z'/%3E%3C/svg%3E");
            mask-size: contain;
            mask-repeat: no-repeat;
            mask-position: center;
        }

        /* คลาสสำหรับหัวใจสีชมพูล้วน */
        .pink-heart-item {
            position: absolute;
            z-index: 1;
            pointer-events: none;
        }

        /* คลาสสำหรับพลุตอนเริ่มต้น (ให้อยู่เหนือกล่องข้อความ) */
        .pink-explosion-heart {
            position: absolute;
            z-index: 12; 
            pointer-events: none;
        }

        /* คลาสแอนิเมชันฝนตก */
        .falling-rain {
            top: -100px;
            animation: fall linear forwards;
        }
        @keyframes fall {
            to { transform: translateY(120vh) rotate(360deg); }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="message-box">
        <h1>Happy Valentine's Day</h1>
        <p>สุขสันต์วันวาเลนไทน์ ปีนี้รักที่สุดรักเหมือนเดิม และจะรักไปเรื่อย ๆ ขอบคุณที่อยู่ข้างกันมาโดยตลอดรักมาก ๆ นะ</p>
    </div>
    <script>
        const customImages = [
            'ph1.png', 
            'ph2.png',
            'ph3.png',
            'ph4.png'
        ];

        // โค้ดสร้างรูปทรงหัวใจ SVG สีชมพู
        const heartSVGString = `
            <svg viewBox="0 0 512 512" width="100%" height="100%">
                <path fill="#ff4d6d" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/>
            </svg>
        `;

        function triggerPinkHeartExplosion() {
            const explosionCount = 40; 
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;

            for (let i = 0; i < explosionCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('pink-explosion-heart');
                particle.innerHTML = heartSVGString; 

                let posX = centerX;
                let posY = centerY;
                particle.style.left = posX + 'px';
                particle.style.top = posY + 'px';
                
                const size = Math.random() * 40 + 20;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.transform = 'translate(-50%, -50%)';

                document.body.appendChild(particle);

                // --- ปรับลดความเร็วพลุตรงนี้ ---
                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 10 + 3; // ลดความแรงลง
                let vx = Math.cos(angle) * velocity;
                let vy = Math.sin(angle) * velocity;
                let gravity = 0.3; // ลดแรงโน้มถ่วงให้ตกลงมาช้าลง นุ่มขึ้น
                let rotation = Math.random() * 360;
                let rotationSpeed = (Math.random() - 0.5) * 10; // หมุนช้าลง

                function animateParticle() {
                    vy += gravity;
                    posX += vx;
                    posY += vy;
                    rotation += rotationSpeed;

                    particle.style.left = posX + 'px';
                    particle.style.top = posY + 'px';
                    particle.style.transform = `translate(-50%, -50%) rotate(${rotation}deg)`;

                    if (posY < window.innerHeight + 200) {
                        requestAnimationFrame(animateParticle);
                    } else {
                        particle.remove();
                    }
                }
                animateParticle();
            }
        }

        // ฟังก์ชันสร้างของตกลงมา (สุ่มระหว่างรูป กับ หัวใจสีชมพู)
        function createMixedFallingRain() {
            // สุ่มโอกาส 50% ที่จะเป็นรูปของคุณ และ 50% ที่จะเป็นหัวใจสีชมพู
            const isPhoto = Math.random() > 0.5; 
            
            let element;

            if (isPhoto) {
                // ถ้าสุ่มได้รูปของคุณ
                element = document.createElement('img');
                element.src = customImages[Math.floor(Math.random() * customImages.length)];
                element.classList.add('photo-heart-item', 'falling-rain');
            } else {
                // ถ้าสุ่มได้หัวใจสีชมพู
                element = document.createElement('div');
                element.innerHTML = heartSVGString;
                element.classList.add('pink-heart-item', 'falling-rain');
            }

            element.style.left = Math.random() * 100 + 'vw';
            
            const size = Math.random() * 45 + 35; 
            element.style.width = size + 'px';
            element.style.height = size + 'px';

            const fallDuration = Math.random() * 6 + 6; // ให้ตกลงมาช้าๆ นุ่มๆ
            element.style.animationDuration = fallDuration + 's';

            document.body.appendChild(element);

            setTimeout(() => {
                element.remove();
            }, fallDuration * 1000);
        }

        triggerPinkHeartExplosion();

        setTimeout(() => {
            setInterval(createMixedFallingRain, 700); 
        }, 1500);

    </script>
</body>
</html>
